# 测试账号配置

## 📱 推荐测试账号

### 设备A - 频道主账号

```
用户名：频道主A
手机号：13800000001
密码：123456
角色：创建频道、发布内容、审核订阅
```

**测试任务**：
1. 创建频道"强提醒测试频道"
2. 审核用户B的订阅申请
3. 发布测试内容触发强制提醒

---

### 设备B - 普通用户账号

```
用户名：用户B
手机号：13800000002  
密码：123456
角色：订阅频道、开启强制提醒、接收通知
```

**测试任务**：
1. 订阅"强提醒测试频道"
2. 开启强制提醒
3. 验证接收到的提醒效果

---

## 🧪 快速测试流程

### Step 1: 启动应用

```bash
cd d:\wenjianjia2\channel-app
npx expo start
```

### Step 2: 设备配置

| 设备 | 账号 | 手机号 | 主要操作 |
|------|------|--------|----------|
| 设备A | 频道主A | 13800000001 | 创建、审核、发布 |
| 设备B | 用户B | 13800000002 | 订阅、开启、接收 |

### Step 3: 测试检查点

- [ ] 设备A成功创建频道
- [ ] 设备B成功订阅频道
- [ ] 设备A成功审核申请
- [ ] 设备B看到"已订阅"状态
- [ ] 设备B成功开启强制提醒（按钮变橙色）
- [ ] 设备A发布内容
- [ ] 设备B收到震动提醒
- [ ] 设备B收到横幅通知
- [ ] 设备B收到声音提醒
- [ ] 通知标题包含"🔔【强制提醒】"

---

## 🎯 测试场景

### 场景1：基础提醒测试

**目的**：验证基本的强制提醒功能

1. 用户B开启强制提醒
2. 频道主A发布文字内容
3. 验证用户B收到完整提醒

**预期结果**：
- ✅ 震动1.5秒
- ✅ 横幅通知显示
- ✅ 播放提醒声音

### 场景2：锁屏提醒测试

**目的**：验证锁屏状态下的提醒

1. 用户B开启强制提醒后锁屏
2. 频道主A发布内容
3. 验证锁屏通知

**预期结果**：
- ✅ 锁屏界面显示通知
- ✅ 完整显示通知内容
- ✅ 震动和声音正常

### 场景3：多条消息测试

**目的**：验证连续消息的提醒

1. 用户B开启强制提醒
2. 频道主A连续发布3条内容
3. 验证每条都触发提醒

**预期结果**：
- ✅ 每条消息单独提醒
- ✅ 通知栏显示多条通知

### 场景4：关闭提醒测试

**目的**：验证关闭提醒后不再接收

1. 用户B关闭强制提醒
2. 频道主A发布内容
3. 验证用户B不再收到提醒

**预期结果**：
- ✅ 不震动
- ✅ 不显示通知
- ✅ 按钮变为蓝色边框

---

## 📊 测试数据记录表

### 测试环境

| 项目 | 信息 |
|------|------|
| 测试日期 | __________ |
| 设备A型号 | __________ |
| 设备B型号 | __________ |
| Android版本 | __________ |
| Expo Go版本 | __________ |

### 功能测试结果

| 功能点 | 测试方法 | 预期结果 | 实际结果 | 通过 |
|--------|----------|----------|----------|------|
| 震动提醒 | 发布内容 | 1.5秒震动 | | □ |
| 横幅通知 | 发布内容 | 顶部显示 | | □ |
| 声音提醒 | 发布内容 | 播放音效 | | □ |
| 锁屏显示 | 锁屏+发布 | 锁屏可见 | | □ |
| 特殊标识 | 查看通知 | 🔔【强制提醒】 | | □ |
| 开启状态 | 点击按钮 | 按钮变橙色 | | □ |
| 关闭状态 | 点击按钮 | 按钮变蓝色 | | □ |
| 仅订阅可用 | 未订阅时 | 按钮不显示 | | □ |

---

## 💡 测试技巧

### 技巧1：快速重置

如果需要重新测试，可以：
1. 退出登录
2. 重新注册新账号
3. 或使用不同的手机号

### 技巧2：模拟真实场景

- 将设备B放在口袋里测试震动
- 将设备B锁屏测试锁屏通知
- 将设备B切换到其他应用测试后台通知

### 技巧3：使用开发者工具

在 Expo 终端中查看日志：
```
强提醒音效加载成功
强制提醒已发送: 强提醒测试频道 - 测试内容
```

---

## 🐛 问题排查

### 问题：设备B收不到通知

**排查步骤**：
1. 检查是否开启了强制提醒（按钮是否橙色）
2. 检查通知权限是否允许
3. 检查是否在同一网络
4. 检查 Expo 终端是否有错误日志
5. 尝试重启应用

### 问题：没有震动

**排查步骤**：
1. 检查手机是否开启震动模式
2. 检查系统设置中是否允许应用震动
3. 尝试其他应用的震动功能验证手机硬件

### 问题：没有声音

**排查步骤**：
1. 检查手机音量是否开启
2. 检查通知音量设置
3. 检查是否添加了 notification.mp3 文件
4. 查看控制台是否有音效加载错误

---

## 📞 需要帮助？

如果测试中遇到问题：

1. 查看详细文档：`docs/FORCE_NOTIFICATION_TEST_GUIDE.md`
2. 查看实现文档：`docs/FORCE_NOTIFICATION_GUIDE.md`
3. 检查 Expo 终端的错误信息
4. 验证两台设备网络连接

---

## ✅ 测试完成确认

完成测试后，请确认：

- [ ] 所有基础功能正常工作
- [ ] 震动、声音、通知都能正常触发
- [ ] 锁屏状态下能正常显示
- [ ] 开启/关闭状态切换正常
- [ ] 特殊标识显示正确
- [ ] 仅订阅用户能看到开启按钮

测试完成时间：__________

测试人员签名：__________
