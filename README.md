# 频道应用

一个功能完整的频道应用，支持注册登录、频道管理、私聊和强制提醒功能。

## 功能特性

### 1. 用户认证
- ✅ 手机号+密码注册（无需验证码）
- ✅ 用户登录
- ✅ 用户信息管理（头像、昵称）

### 2. 频道广场
- ✅ 卡片式大图展示频道
- ✅ 显示频道头像、昵称、描述、订阅人数
- ✅ 显示创建者信息
- ✅ 点击创建者头像进入私聊
- ✅ 点击频道卡片进入频道详情
- ✅ 分类筛选功能
- ✅ 搜索功能

### 3. 频道详情页
- ✅ 显示频道头像、昵称、订阅人数、描述
- ✅ 订阅/取消订阅功能
- ✅ 强制提醒开关（仅订阅用户可用）
- ✅ 频道内容时间线展示
- ✅ 创建者可发布文字、图片、视频内容
- ✅ 创建者可查看审核功能（已集成）
- ✅ 创建者可解散频道

### 4. 个人中心
- ✅ 显示用户头像、昵称、手机号
- ✅ 更换头像功能
- ✅ 我加入的频道列表
- ✅ 点击频道直接跳转
- ✅ 管理员标识

### 5. 频道创建（仅管理员）
- ✅ 频道昵称设置
- ✅ 频道头像上传
- ✅ 频道描述编写
- ✅ 频道分类选择（科技、生活、娱乐、教育、其他）

### 6. 私聊功能
- ✅ 点击创建者头像进入私聊
- ✅ 发送文字消息
- ✅ 发送图片消息
- ✅ 消息历史记录
- ✅ 底部消息页面查看所有对话
- ✅ 未读消息提醒

### 7. 强制提醒功能
- ✅ 用户订阅频道后可开启强制提醒
- ✅ 频道发布内容时推送通知
- ✅ Android端支持前台通知
- ✅ 支持锁屏通知和铃声提醒

## 技术栈

- **框架**: React Native + Expo
- **导航**: React Navigation
- **状态管理**: React Context API
- **通知**: Expo Notifications
- **媒体**: Expo Image Picker, Expo AV
- **存储**: Expo SecureStore (移动端) / localStorage (Web端)
- **图标**: @expo/vector-icons

## 运行项目

### Web端运行
```bash
cd channel-app
npm install
npx expo start --web
```

### Android端运行
```bash
cd channel-app
npm install
npx expo start
# 按 'a' 打开Android模拟器
```

或者扫描二维码在Expo Go应用中打开

### iOS端运行
```bash
cd channel-app
npm install
npx expo start
# 使用相机应用扫描二维码
```

## 测试账号

### 管理员账号（可创建频道）
- 手机号：13800138000
- 密码：123456

### 普通用户
可以自行注册新账号进行测试

## 应用截图说明

### 登录/注册页面
- 支持手机号密码登录
- 支持新用户注册（无需验证码）
- 输入验证

### 频道广场
- 卡片式展示所有频道
- 分类筛选（科技、生活、娱乐、教育、其他）
- 搜索功能
- 显示创建者信息
- 点击创建者头像开始私聊

### 频道详情
- 完整的频道信息展示
- 订阅/取消订阅按钮
- 强制提醒开关（订阅后可用）
- 内容时间线
- 创建者可发布内容（文字、图片、视频）
- 创建者可解散频道

### 个人中心
- 用户信息展示
- 更换头像
- 我的频道列表
- 创建频道入口（仅管理员）
- 退出登录

### 消息页面
- 所有私聊对话列表
- 未读消息提醒
- 最后一条消息预览
- 时间戳显示

### 私聊页面
- 实时聊天界面
- 发送文字消息
- 发送图片消息
- 消息气泡样式
- 已读/未读状态

## 跨平台兼容性

应用已针对Web和移动端进行优化：
- **Web环境**: 使用localStorage存储、浏览器通知
- **移动环境**: 使用SecureStore存储、原生通知、相机权限

## 特殊权限说明

### Android端强制提醒所需权限
1. 显示在其他应用的上层
2. 修改系统设置
3. 自启动权限
4. 通知权限

开启强制提醒时，应用会引导用户到系统设置开启相关权限。

## 项目结构

```
channel-app/
├── App.js                          # 主应用入口
├── src/
│   ├── context/                    # Context状态管理
│   │   ├── AuthContext.js         # 认证上下文
│   │   ├── ChannelContext.js      # 频道数据上下文
│   │   ├── ChatContext.js         # 聊天上下文
│   │   └── NotificationContext.js # 通知上下文
│   └── screens/                    # 页面组件
│       ├── LoginScreen.js         # 登录/注册页面
│       ├── ChannelSquareScreen.js # 频道广场
│       ├── ChannelDetailScreen.js # 频道详情
│       ├── ProfileScreen.js       # 个人中心
│       ├── CreateChannelScreen.js # 创建频道
│       ├── MessagesScreen.js      # 消息列表
│       └── ChatDetailScreen.js    # 私聊详情
├── package.json
└── app.json
```

## 功能演示流程

1. **注册登录**
   - 使用手机号和密码注册新账号
   - 或使用测试账号登录

2. **浏览频道**
   - 在频道广场查看所有频道
   - 使用分类筛选和搜索功能
   - 点击创建者头像开始私聊

3. **订阅频道**
   - 进入频道详情页
   - 点击订阅按钮
   - 开启强制提醒（可选）

4. **创建频道**（管理员）
   - 进入个人中心
   - 点击"创建频道"
   - 填写频道信息
   - 选择分类

5. **发布内容**（频道创建者）
   - 进入自己创建的频道
   - 使用底部输入框
   - 发布文字、图片或视频

6. **私聊功能**
   - 在频道广场点击创建者头像
   - 发送消息
   - 在消息页面查看所有对话

## 注意事项

1. **数据存储**: 当前使用内存存储，刷新页面数据会丢失。生产环境建议集成真实后端API。

2. **通知权限**: 首次使用强制提醒功能需要授予通知权限。

3. **媒体文件**: 图片和视频当前仅存储URI引用，生产环境需要上传到云存储。

4. **推送通知**: 在真实设备上才能完整测试推送通知功能。

## 未来扩展

- [ ] 集成真实后端API
- [ ] 数据持久化存储
- [ ] 云存储集成（图片/视频）
- [ ] 频道管理员审核系统
- [ ] 更多消息类型（语音、文件等）
- [ ] 群组聊天功能
- [ ] 用户资料详情页
- [ ] 频道搜索历史
- [ ] 热门频道推荐

## 开发者信息

使用React Native + Expo构建的跨平台频道应用，支持Web、iOS和Android三端。

## 许可证

MIT License